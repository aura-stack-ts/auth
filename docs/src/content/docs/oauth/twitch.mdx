---
title: Twitch Authorization Provider
description: Add Twitch authorization provider to Aura Auth to authentication and authorize
---

## Twitch

Set up `Twitch` authorization provider to the authentication instance to Aura Auth.

---

## What you'll learn

Through this quick start guide you are going to learn and understand the basics and how to set up `Twitch` provider to Aura Auth.

- [Twitch OAuth App](#Twitch-oauth-app)
  - [Creating an OAuth App](#creating-an-oauth-app)
- [Twitch Aura Auth](#Twitch-aura-auth)
  - [Installation](#installation)
  - [Environment setup](#environment-setup)
  - [Configure the provider](#configure-the-provider)
  - [Get HTTP handlers](#get-http-handlers)
- [Resources](#resources)

---

<Steps>

<Step>

## Twitch OAuth App

### Creating an OAuth app

The first step is to log in to the [`Developer Console`](https://dev.twitch.tv/console/apps) and enable `Two-Factor Authentication` (2FA) in the [Security and Privacy panel](https://www.twitch.tv/settings/security). Your session will be refreshed, so you'll need to log in again.

Once your account settings are complete, the next step is to create and register a [`Twitch Developer Application`](https://dev.twitch.tv/console/apps) to access user resources such as `Get Users` (used by Aura Auth), `Repositories`, `Organizations`, etc.

For more detailed information, see [Register Your App](https://dev.twitch.tv/docs/authentication/register-app), [Twitch Access Token Scopes](https://dev.twitch.tv/docs/authentication/scopes/), and [Get Users](https://dev.twitch.tv/docs/api/reference#get-users).

Registering a Twitch OAuth app includes:

- `Name`: The application name shown when users grant access to the app.
- `OAuth Redirect URLs`: The URL where Twitch will redirect after authentication. It should end in `/auth/callback/twitch` for local and production environments.
  - Local environment: `http://localhost:3000/auth/callback/twitch`
  - Production environment: Set the URL of your application.
- `Category`: The application type (`Game Integration`, `Application Integration`, `Browser Extension`, `Broadcaster Suite`, `Chat Bot`, `Giveaway/Loyalty Tool`, `Analytics Tool`, or `Other`).
- `Client Type`: Defines the confidentiality of key storage (`public` or `confidential`). For more details on `Client Types`, read [RFC 6749](https://datatracker.ietf.org/doc/html/rfc6749#section-2.1).

</Step>

<Step>

## Twitch Aura Auth

### Installation

install the package using a package manager like `npm`, `pnpm` or `yarn`

```npm
npm install @aura-stack/auth
```

</Step>

<Step>

### Environment setup

Now, it's time to create and consume the Twitch credentials required and used by Aura Auth, it include the `client Id` and `client Secret` and write them into a `.env` file.

Additionally set the `secret` used by Aura Auth to sign and encrypt the user's session.

```bash title=".env" lineNumbers
# Twitch Credentials
AURA_AUTH_TWITCH_CLIENT_ID="twitch_client_id"
AURA_AUTH_TWITCH_CLIENT_SECRET="twitch_client_secret"

# Aura Secret
AURA_AUTH_SECRET="32-bytes-secret"
```

<Callout type="warning">
  The `AURA_AUTH_SECRET` will recommended to be random and high antropy key to avoid attackers decifer the secret used by the Aura
  Auth application.
</Callout>

</Step>

<Step>

### Configure the provider

Set the `oauth` option of the `createAuth` instance and writing `"twitch"` name.

```ts title="@/auth" lineNumbers
import { createAuth } from "@aura-stack/auth"

export const auth = createAuth({
  oauth: ["twitch"],
})

export const { handlers } = auth
```

</Step>

<Step>

### Get HTTP Handlers

Use the HTTP handlers to consume the authentication logic and flow the Aura Auth library to be integrated into routers and frameworks.

```ts title="backend.ts" lineNumbers
import { handlers } from "@/auth"

export const { GET, POST } = handlers
```

<Callout>
  The returned handlers include pre-built routes used in OAuth flows (`/signIn/:oauth`, `/callback/:oauth`, `/session`, `/signOut`
  and `/csrfToken`). You can mount them in Express, Hono, Next.js, or any runtime that supports native Request and Response APIs.
</Callout>

</Step>

</Steps>

---

## Resources

- [RFC - The OAuth 2.0 Authorization Framework](https://datatracker.ietf.org/doc/html/rfc6749)
- [Twitch - Get Started with the Twitch API](https://dev.twitch.tv/docs/api/get-started/)
- [Twitch - Authorization code grant flow](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#authorization-code-grant-flow)
- [Twitch - Register Your App](https://dev.twitch.tv/docs/authentication/register-app)
- [Twitch - Setting up Two-Factor Authentication (2FA)](https://help.twitch.tv/s/article/two-factor-authentication?language=en_US)
- [Twitch - Security and Privacy](https://www.twitch.tv/settings/security)
- [Twitch - Get Users](https://dev.twitch.tv/docs/api/reference#get-users)
- [Twitch - Scopes](https://dev.twitch.tv/docs/authentication/scopes/)
